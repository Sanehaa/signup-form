<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="page.css">
</head>

<body>
    <div class="main-container">
        <div class="bg"></div>
        <!--        <div class="sub-container">-->
        <div class="login-form">
            <h2>Create Account</h2>
            <p>Let's begin the journey!</p>
            <h4> Sign up with</h4>
            <div class="icon">
                <img src="twitter.png" alt="Icon 1">
                <img src="facebook.png" alt="Icon 2">
                <img src="social.png" alt="Icon 3">
            </div>
            <br>
            <!--            <div class="login-form">-->
            <div class="input-field">
                <h4>Email/Username</h4>
                <input id="username" type="text" placeholder="Enter your Email/Username">
            </div>
            <br>
            <div class="input-field">
                <h4>Create Password</h4>
                <input id="password" type="password" placeholder="Enter your Password">
            </div>
            <br>
            <div class="input-field">
                <h4>Confirm Password</h4>
                <input id="cpassword" type="password" placeholder="Retype your Password">
            </div>
            <ol id="erroru" class="erroru"> </ol>
            <ul id="error" class="error"></ul>
            <br>

            <div class="go-icon">
                <h3>Sign Up</h3>
                <img src="arrow%20btn.png" onclick="verify()">
            </div>
            <br><br>
            <div class="alr-usr">
                <p>Already a user? Login</p>
            </div>
        </div>
    </div>

</body>

</html>
<script type="application/javascript">
    //var, let, const

    let loginform = document.getElementsByClassName("login-form")[0];  /* included for transition */

    function verify() {


        loginform.classList.add("extra-height");  /* included for transition */

        let error = document.getElementById("error");
        let erroru = document.getElementById("erroru");
        error.innerHTML = "";
        var username_ = username;
        var password_ = password;
        var cpassword_ = cpassword;

        // var password_ = password;
        // var cpassword_ = cpassword;


        let regex_specialchar = /(?=.*?[.#?!@$%^&*-])/
        let regex_numbers = /(?=.*?[0-9])/
        let regex_CapAlphabet = /(?=.*?[A-Z])/
        let regex_SmallAlphabet = /(?=.*?[a-z])/

        if (username_.value.trim() == "") {
            username_.classList.add("error-style");
            erroru.innerHTML = "<p>*Username field is empty</p>";
        } else {
            username_.classList.remove("error-style");
            erroru.innerHTML = "";
        }


        if (password_.value.trim() == "") {
            password_.classList.add("error-style");
            erroru.innerHTML += "<p>*Password field is empty</p>";

        } else {

            error.innerHTML = "Password must contain: "

            if (!password_.value.trim().match(regex_numbers)) {

                error.classList.add("error-style");
                error.innerHTML += "<li>At least one digit </li>"

            }

            if (!password_.value.trim().match(regex_SmallAlphabet)) {

                error.classList.add("error-style");
                error.innerHTML += "<li>At least one lowercase character <code>[a-z]</code></li>"

            }
            if (!password_.value.trim().match(regex_CapAlphabet)) {

                error.classList.add("error-style");
                error.innerHTML += "<li>At least one uppercase character <code>[A-Z] </code></li>"

            }
            if (!password_.value.trim().match(regex_specialchar)) {

                error.classList.add("error-style");
                error.innerHTML += "<li>At least one special character <code>[*.!@#$%^&amp;(){}[]:;&lt;&gt;,.?/~_+-=|\]</code></li>"

            }
            if (password_.value.trim().length < 8 || password_.value.trim().length > 32) {

                error.classList.add("error-style");
                error.innerHTML += "<li>At least 8 characters in length, but no more than 32.</li>"

            }

            if (!error.classList.contains("error-style")) {

                error.innerHTML = ""


                if (password_.value.trim() == cpassword_.value.trim()) {
                    error.innerHTML = ""
                    error.innerHTML = "<li> Passwords match </li>"
                    document.querySelector(".error").getElementsByTagName("li")[0].style.listStyle = "none"
                    document.querySelector(".error").getElementsByTagName("li")[0].style.color = "green"

                }

                else {
//                    error.classList.add("error-style")
                    error.innerHTML = "<li> Passwords do not match </li>"
                    document.querySelector(".error").getElementsByTagName("li")[0].style.listStyle = "none"


                }



            }






            // password_pattern_checker();
            // password_.classList.remove("error-style");
        }


        // if (cpassword_.value.trim() == "") {
        //     cpassword_.classList.add("error-style");
        //     error.innerHTML += "<p>*Confirm password field is empty</p>";
        // } else {
        //     checkPasswordMatch();
        //     cpassword_.classList.remove("error-style");
        // }
    }

    // function password_pattern_checker() {
    //     if (!password.value.match("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")) {

    //         error.innerHTML = "<p>Password does not contain correct pattern</p><ol>	<li>At least one digit <code>[0-9]</code></li>	<li>At least one lowercase character <code>[a-z]</code></li>	<li>At least one uppercase character <code>[A-Z]</code></li><li>At least one special character <code>[*.!@#$%^&amp;(){}[]:;&lt;&gt;,.?/~_+-=|\]</code></li><li>At least 8 characters in length, but no more than 32.</li></ol>" + error.innerHTML;
    //     }

    // }

    // function checkPasswordMatch() {
    //     var password_ = password;
    //     var cpassword_ = cpassword;
    //     if (password.value.trim() === cpassword.value.trim()) {
    //         // console.log("Passwords match");
    //         error.innerHTML += "<p> Passwords match </p>"
    //     } else {
    //         // console.log("Passwords do not match");
    //         error.innerHTML += "<p> Passwords do not match </p>"

    //     }
    // }


</script>